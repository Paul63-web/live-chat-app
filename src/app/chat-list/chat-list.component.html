<div class="flex flex-col">
    <div class="relative w-80 p-3 bg-gray-500 dark:bg-gray-800">
        <span 
            class="absolute inset-y-0 flex items-center"
        >
            <button 
                type="button" 
                class="inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out hover:text-gray-500 focus:outline-none"
            >
                <svg                        
                    xmlns="http://www.w3.org/2000/svg" 
                    fill="none" viewBox="0 0 24 24" 
                    stroke="currentColor" 
                    class="h-5 w-5 text-blue-600 dark:text-white"
                >
                    <path 
                        stroke-linecap="round" 
                        stroke-linejoin="round" 
                        stroke-width="2" 
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    />
                </svg>     
            </button>
        </span>
        
        <!-- Input for filtering frineds -->
        <input 
            type="text" 
            placeholder="Search..." 
            class="outline-none focus:outline-none placeholder-text-gray-400 dark:text-gray-300 bg-white dark:bg-blue-800 pl-12 py-2 w-full rounded-full"
            [(ngModel)]="friendsFilter"
        >
    </div>

    <div 
        class="flex flex-col mt-15"
        *ngIf="!loading"
    >
        <!-- Friend Component -->
        <button 
            class="relative flex items-center space-x-2 p-4 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-800 transition ease-in-out duration-500 h-14 mt-2 cursor-pointer w-full border-b" 
            data-aos="zoom-in" 
            *ngFor="let index as i; let userFriends of userFriends | friends:friendsFilter"
            (click)="sendFriendData(userFriends)"
        >
            <div 
                class="relative"
            >
                <span 
                    *ngIf="online" 
                    class="absolute text-green-500 right-0 left-7 bottom-0"
                >
                    <div 
                        class="rounded-full h-3 w-3 bg-green-500"
                    ></div>
                </span>
        
                <!-- Friend Profile Picture -->
                <img 
                    [src]="userFriends.profilePix? 'userFriends.profilePix' : noProfile" 
                    alt="" 
                    class="w-10 h-10 rounded-full" 
                    style="object-fit: cover;"
                >
            </div>
            <div 
                class="flex flex-col leading-tight"
            >
                <div 
                    class="text-lg mt-1 flex flex-col items-center"
                >
                    <!-- Friend Username -->
                    <span 
                        class="text-gray-700 dark:text-white mr-3 pt-4"
                    >
                        {{userFriends.username}}
                    </span>
                    <div 
                        class="flex flex-row space-x-2"
                    >
                        <span 
                            class="flex items-start" 
                            style="margin-left: -50px"
                        >
        
                            <!-- Read SVG -->
                            <svg 
                                class="text-gray-500 dark:text-gray-400 h-4 w-4" 
                                xmlns="http://www.w3.org/2000/svg" 
                                fill="currentColor"  
                                viewBox="0 0 448 512"
                            >
                                <path 
                                    d="M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"
                                />
                            </svg>
                        </span>
                        <p 
                            class="text-xs text-gray-500 dark:text-gray-400"
                        >
                            Hello Paul
                        </p>
                    </div>
                </div>
            </div>
        </button>
        
    </div>
    <div
        *ngIf="loading"
    >
        <app-chat-page-loader></app-chat-page-loader>
    </div>
</div>

<script>
    const el = document.getElementById('chats')
    el.scrollTop = el.scrollHeight
</script>